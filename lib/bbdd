-- Tabla de Usuario
CREATE TABLE Usuario (
    id_usuario INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre TEXT NOT NULL,
    correo_electronico TEXT NOT NULL UNIQUE,
    contrasena TEXT NOT NULL,
    numero_tarjeta TEXT,
    compania TEXT
);

-- Tabla de Especialidad
CREATE TABLE Especialidad (
    id_especialidad INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre_especialidad TEXT NOT NULL
);

-- Tabla de Profesional
CREATE TABLE Profesional (
    id_profesional INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre_profesional TEXT NOT NULL,
    id_especialidad INTEGER NOT NULL,
    FOREIGN KEY (id_especialidad) REFERENCES Especialidades (id_especialidad) ON DELETE CASCADE
);

-- Tabla de Centro Médico
CREATE TABLE Centro_Medico (
    id_centro INTEGER PRIMARY KEY AUTOINCREMENT,
    nombre_centro TEXT NOT NULL,
    direccion TEXT
);

-- Tabla de Cita
CREATE TABLE Cita (
    id_cita INTEGER PRIMARY KEY AUTOINCREMENT,
    id_usuario INTEGER NOT NULL,
    id_profesional INTEGER NOT NULL,
    id_centro INTEGER NOT NULL,
    fecha DATE NOT NULL,
    hora TIME NOT NULL,
    FOREIGN KEY (id_usuario) REFERENCES Usuarios (id_usuario) ON DELETE CASCADE,
    FOREIGN KEY (id_profesional) REFERENCES Profesionales (id_profesional) ON DELETE CASCADE,
    FOREIGN KEY (id_centro) REFERENCES Centros_Medicos (id_centro) ON DELETE CASCADE
);


--INSERCIÓN DE DATOS:

-- Insertar datos en la tabla Usuario
INSERT INTO Usuario (nombre, correo_electronico, contrasena, numero_tarjeta, compania)
VALUES 
('Juan Pérez', 'juan.perez@email.com', '1234', '1234567890', 'Asisa'),
('María López', 'maria.lopez@email.com', 'Maria', '0987654321', 'Adeslas'),
('Carlos Gómez', 'carlos.gomez@email.com', 'Carlitos13', '4561230789', 'Caser'),
('Laura Fernández', 'laura.fernandez@email.com', 'Laurita', '1122334455', 'Asisa'),
('Jorge Martínez', 'jorge.martinez@email.com', 'JorgeM', '9988776655', 'Adeslas'),
('Beatriz González', 'beatriz.gonzalez@email.com', 'Beita69', '5566778899', 'Caser'),
('Antonio Ruiz', 'antonio.ruiz@email.com', 'Antonito', '6677889900', 'Adeslas'),
('Elena Ramírez', 'elena.ramirez@email.com', 'Elena1234', '4455667788', 'Caser');

-- Insertar datos en la tabla Especialidad
INSERT INTO Especialidad (nombre_especialidad)
VALUES
('Cardiología'),
('Psiquiatría'),
('Pediatría'),
('Dermatología'),
('Oftalmología'),
('Traumatología');

-- Insertar datos en la tabla Profesional
INSERT INTO Profesional (nombre_profesional, id_especialidad)
VALUES
('Dr. Luis Martínez', 1),  -- Cardiología
('Dra. Ana Sánchez', 2),   -- Psiquiatría
('Dr. Pedro Díaz', 3);     -- Pediatría
('Dra. Isabel Pérez', 4),  -- Dermatología
('Dr. Juan Fernández', 5),  -- Oftalmología
('Dr. Marcos López', 6);    -- Traumatología
('Dra. Clara Rodríguez', 1),  -- Cardiología
('Dr. Felipe Pérez', 2),     -- Psiquiatría
('Dra. Marta Jiménez', 3),  -- Pediatría
('Dr. Alberto Torres', 4),  -- Dermatología
('Dr. Raúl González', 5),   -- Oftalmología
('Dra. Sofía Fernández', 6); -- Traumatología


-- Insertar datos en la tabla Centro_Medico
INSERT INTO Centro_Medico (nombre_centro, direccion)
VALUES
('Centro Médico Angustias', 'Calle de las Angustias 17, Valladolid'),
('Centro Médico San José', 'Calle Pío del Río Hortega 12, Valladolid'),
('Hospital Sagrado Corazón de Jesús', 'Calle Fidel Recio 1, Valladolid'),
('LoMás, Dermatología y Medicina Estética Integral', 'Calle de Juan Antonio Morales Pintor 2, Valladolid'),
('IOBA', 'Campus Miguel Delibes, Paseo de Belén 17, Valladolid'),
('Origen Diagnóstico y Traumatología', 'Calle Paulina Harriet 4-6, Valladolid');

-- Insertar datos en la tabla Cita
INSERT INTO Cita (id_usuario, id_profesional, id_centro, fecha, hora)
VALUES
(1, 1, 1, '2025-02-10', '10:00:00'),  -- Cita de Juan Pérez con Dr. Luis Martínez en Centro Médico Angustias
(2, 2, 2, '2025-03-15', '14:30:00'),  -- Cita de María López con Dra. Ana Sánchez en Centro Médico San José
(3, 3, 3, '2025-04-20', '09:00:00');  -- Cita de Carlos Gómez con Dr. Pedro Díaz en Hospital Sagrado Corazón de Jesús
(4, 4, 4, '2025-05-12', '11:00:00'),  -- Cita de Antonio Ruiz con Dra. Isabel Pérez en LoMás, Dermatología y Medicina Estética Integral
(5, 5, 5, '2025-06-18', '15:30:00'),  -- Cita de Elena Ramírez con Dr. Juan Fernández en IOBA
(1, 6, 6, '2025-07-22', '08:30:00');  -- Cita de Juan Pérez con Dr. Marcos López en Origen Diagnóstico y Traumatología
(4, 1, 1, '2025-08-01', '09:30:00'),  -- Cita de Laura Fernández con Dr. Luis Martínez en Centro Médico Angustias
(5, 2, 2, '2025-08-02', '13:00:00'),  -- Cita de Jorge Martínez con Dra. Ana Sánchez en Centro Médico San José
(6, 3, 3, '2025-08-03', '11:15:00'),  -- Cita de Beatriz González con Dr. Pedro Díaz en Hospital Sagrado Corazón de Jesús
(7, 4, 4, '2025-08-04', '14:45:00'),  -- Cita de Antonio Ruiz con Dra. Isabel Pérez en LoMás, Dermatología y Medicina Estética Integral
(8, 5, 5, '2025-08-05', '16:30:00'),  -- Cita de Elena Ramírez con Dr. Juan Fernández en IOBA
(2, 6, 6, '2025-08-06', '17:00:00');  -- Cita de María López con Dr. Marcos López en Origen Diagnóstico y Traumatología